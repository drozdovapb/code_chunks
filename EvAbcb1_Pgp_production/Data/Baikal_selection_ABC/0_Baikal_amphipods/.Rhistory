options(stringsAsFactors = F)
library(ggplot2)
library(ggpubr)
setwd("Data/Baikal_selection_ABC/")
#mlst <- list()
summary_table <- data.frame("Species"="Test",
"ABCA"=0, "ABCBF"=0, "ABCBH"=0, "ABCC"=0, "ABCD"=0, "ABCE"=0, "ABCF"=0, "ABCG"=0)
for (subdir in dir()) {
numberrow <- nrow(summary_table) + 1
temp <- read.csv(paste0(subdir, '/Final_ABC_table.tsv'))
summary_table[numberrow, 1] <- subdir
summary_table[numberrow, "ABCA"] <- length(grep("ABCA", temp$fam))
summary_table[numberrow, "ABCBF"] <- length(grep("ABCBF", temp$fam))
summary_table[numberrow, "ABCBH"] <- length(grep("ABCBH", temp$fam))
summary_table[numberrow, "ABCC"] <- length(grep("ABCC", temp$fam))
summary_table[numberrow, "ABCD"] <- length(grep("ABCD", temp$fam))
summary_table[numberrow, "ABCE"] <- length(grep("ABCE", temp$fam))
summary_table[numberrow, "ABCF"] <- length(grep("ABCF", temp$fam))
summary_table[numberrow, "ABCG"] <- length(grep("ABCG", temp$fam))
summary_table[numberrow, "ABCH"] <- length(grep("ABCH", temp$fam))
}
dir()
options(stringsAsFactors = F)
library(ggplot2)
library(ggpubr)
setwd("Data/Baikal_selection_ABC/")
#mlst <- list()
summary_table <- data.frame("Species"="Test",
"ABCA"=0, "ABCBF"=0, "ABCBH"=0, "ABCC"=0, "ABCD"=0, "ABCE"=0, "ABCF"=0, "ABCG"=0)
collectStats <- function(directory) {
for (subdir in dir()) {
numberrow <- nrow(summary_table) + 1
temp <- read.csv(paste0(subdir, '/Final_ABC_table.tsv'))
summary_table[numberrow, 1] <- subdir
summary_table[numberrow, "ABCA"] <- length(grep("ABCA", temp$fam))
summary_table[numberrow, "ABCBF"] <- length(grep("ABCBF", temp$fam))
summary_table[numberrow, "ABCBH"] <- length(grep("ABCBH", temp$fam))
summary_table[numberrow, "ABCC"] <- length(grep("ABCC", temp$fam))
summary_table[numberrow, "ABCD"] <- length(grep("ABCD", temp$fam))
summary_table[numberrow, "ABCE"] <- length(grep("ABCE", temp$fam))
summary_table[numberrow, "ABCF"] <- length(grep("ABCF", temp$fam))
summary_table[numberrow, "ABCG"] <- length(grep("ABCG", temp$fam))
summary_table[numberrow, "ABCH"] <- length(grep("ABCH", temp$fam))
}
}
dir()
directory <- dir[1]
directory <- dir()[1]
collectStats(directory)
directory
collectStats <- function(directory) {
setwd(directory)
for (subdir in dir()) {
numberrow <- nrow(summary_table) + 1
temp <- read.csv(paste0(subdir, '/Final_ABC_table.tsv'))
summary_table[numberrow, 1] <- subdir
summary_table[numberrow, "ABCA"] <- length(grep("ABCA", temp$fam))
summary_table[numberrow, "ABCBF"] <- length(grep("ABCBF", temp$fam))
summary_table[numberrow, "ABCBH"] <- length(grep("ABCBH", temp$fam))
summary_table[numberrow, "ABCC"] <- length(grep("ABCC", temp$fam))
summary_table[numberrow, "ABCD"] <- length(grep("ABCD", temp$fam))
summary_table[numberrow, "ABCE"] <- length(grep("ABCE", temp$fam))
summary_table[numberrow, "ABCF"] <- length(grep("ABCF", temp$fam))
summary_table[numberrow, "ABCG"] <- length(grep("ABCG", temp$fam))
summary_table[numberrow, "ABCH"] <- length(grep("ABCH", temp$fam))
}
}
collectStats(directory)
directory <- dir()[1]
collectStats(directory)
collectStats <- function(directory) {
setwd(directory)
for (subdir in dir()) {
numberrow <- nrow(summary_table) + 1
temp <- read.csv(paste0(subdir, '/Final_ABC_table.tsv'))
summary_table[numberrow, 1] <- subdir
summary_table[numberrow, "ABCA"] <- length(grep("ABCA", temp$fam))
summary_table[numberrow, "ABCBF"] <- length(grep("ABCBF", temp$fam))
summary_table[numberrow, "ABCBH"] <- length(grep("ABCBH", temp$fam))
summary_table[numberrow, "ABCC"] <- length(grep("ABCC", temp$fam))
summary_table[numberrow, "ABCD"] <- length(grep("ABCD", temp$fam))
summary_table[numberrow, "ABCE"] <- length(grep("ABCE", temp$fam))
summary_table[numberrow, "ABCF"] <- length(grep("ABCF", temp$fam))
summary_table[numberrow, "ABCG"] <- length(grep("ABCG", temp$fam))
summary_table[numberrow, "ABCH"] <- length(grep("ABCH", temp$fam))
}
setwd("../")
}
cd ../../
setwd("../../")
ls
dir()
collectStats <- function(directory) {
setwd(directory)
for (subdir in dir()) {
numberrow <- nrow(summary_table) + 1
temp <- read.csv(paste0(subdir, '/Final_ABC_table.tsv'))
summary_table[numberrow, 1] <- subdir
summary_table[numberrow, "ABCA"] <- length(grep("ABCA", temp$fam))
summary_table[numberrow, "ABCBF"] <- length(grep("ABCBF", temp$fam))
summary_table[numberrow, "ABCBH"] <- length(grep("ABCBH", temp$fam))
summary_table[numberrow, "ABCC"] <- length(grep("ABCC", temp$fam))
summary_table[numberrow, "ABCD"] <- length(grep("ABCD", temp$fam))
summary_table[numberrow, "ABCE"] <- length(grep("ABCE", temp$fam))
summary_table[numberrow, "ABCF"] <- length(grep("ABCF", temp$fam))
summary_table[numberrow, "ABCG"] <- length(grep("ABCG", temp$fam))
summary_table[numberrow, "ABCH"] <- length(grep("ABCH", temp$fam))
}
setwd("../")
}
directory <- dir()[1]
collectStats(directory)
collectStats <- function(directory) {
setwd(directory)
for (subdir in dir()) {
numberrow <- nrow(summary_table) + 1
temp <- read.csv(paste0(subdir, '/Final_ABC_table.tsv'))
summary_table[numberrow, 1] <- subdir
summary_table[numberrow, "ABCA"] <- length(grep("ABCA", temp$fam))
summary_table[numberrow, "ABCBF"] <- length(grep("ABCBF", temp$fam))
summary_table[numberrow, "ABCBH"] <- length(grep("ABCBH", temp$fam))
summary_table[numberrow, "ABCC"] <- length(grep("ABCC", temp$fam))
summary_table[numberrow, "ABCD"] <- length(grep("ABCD", temp$fam))
summary_table[numberrow, "ABCE"] <- length(grep("ABCE", temp$fam))
summary_table[numberrow, "ABCF"] <- length(grep("ABCF", temp$fam))
summary_table[numberrow, "ABCG"] <- length(grep("ABCG", temp$fam))
summary_table[numberrow, "ABCH"] <- length(grep("ABCH", temp$fam))
}
setwd("../")
}
directory <- dir()[1]
collectStats(directory)
collectStats(directory)
View(summary_table)
setwd(directory)
dir()
